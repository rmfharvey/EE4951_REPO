/*
 * DutVSense.h
 *
 *  Created on: Dec 6, 2015
 *      Author: RossHarvey
 */

#ifndef SOURCES_DUTVSENSE_H_
#define SOURCES_DUTVSENSE_H_

#include <stdint.h>
#include "dut_adc.h"

#define SELFADC_CHNGROUP	0U

typedef union	FLOAT_UNION	{
	float	asFloat;
	uint32_t asInt;
}floatUnion_t;

class DutVSense {
public:
	DutVSense();
	void updateADCVal(void);					// Reads a new ADC value and updates rawADCVal and floatADCVal
	uint16_t getADCValRaw(void);				// Returns raw ADC value
	float getADCValScaled(void);				// Returns scaled ADC value in volts
private:
	float scalingFactor;
	uint16_t rawADCVal;
	float floatADCVal;
	adc16_chn_config_t	adcChConfig;
};

#endif /* SOURCES_DUTVSENSE_H_ */
